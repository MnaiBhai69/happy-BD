<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Heer üå∏</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root {
    --rose: #ff4d8d;
    --pink: #ff85b3;
    --gold: #ffd700;
    --deep: #1a0a2e;
    --purple: #6b21a8;
    --light-purple: #c084fc;
    --cream: #fff5f8;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  html { scroll-behavior: smooth; }

  body {
    font-family: 'Poppins', sans-serif;
    background: var(--deep);
    color: white;
    overflow-x: hidden;
    cursor: none;
  }

  /* CUSTOM CURSOR */
  .cursor {
    width: 20px; height: 20px;
    background: var(--rose);
    border-radius: 50%;
    position: fixed;
    pointer-events: none;
    z-index: 9999;
    transform: translate(-50%, -50%);
    transition: transform 0.1s, width 0.2s, height 0.2s;
    mix-blend-mode: screen;
  }
  .cursor-trail {
    width: 8px; height: 8px;
    background: var(--gold);
    border-radius: 50%;
    position: fixed;
    pointer-events: none;
    z-index: 9998;
    transform: translate(-50%, -50%);
    transition: left 0.15s ease, top 0.15s ease;
    opacity: 0.7;
  }

  /* FLOATING HEARTS BACKGROUND */
  .hearts-bg {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
  }
  .heart-float {
    position: absolute;
    font-size: 20px;
    animation: floatUp linear infinite;
    opacity: 0;
  }
  @keyframes floatUp {
    0% { transform: translateY(100vh) rotate(0deg); opacity: 0.6; }
    100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
  }

  /* SECTIONS */
  section { position: relative; z-index: 1; }

  /* ===== SECTION 1: INTRO / LOCK SCREEN ===== */
  #intro {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    background: radial-gradient(ellipse at center, #2d0a4e 0%, #1a0a2e 60%, #0d0517 100%);
    padding: 40px 20px;
  }

  .stars-canvas {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: 0;
  }

  .intro-content { position: relative; z-index: 2; }

  .envelope {
    font-size: 80px;
    cursor: pointer;
    animation: pulse 2s ease-in-out infinite;
    display: inline-block;
    filter: drop-shadow(0 0 20px var(--rose));
    transition: transform 0.3s;
  }
  .envelope:hover { transform: scale(1.2) rotate(-5deg); }

  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }

  .intro-title {
    font-family: 'Dancing Script', cursive;
    font-size: clamp(2.5rem, 8vw, 5rem);
    background: linear-gradient(135deg, var(--gold), var(--rose), var(--light-purple));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin: 20px 0 10px;
    text-shadow: none;
    animation: shimmer 3s ease-in-out infinite;
  }

  @keyframes shimmer {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(1.3); }
  }

  .intro-subtitle {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: clamp(1rem, 3vw, 1.5rem);
    color: var(--light-purple);
    margin-bottom: 30px;
  }

  .open-btn {
    padding: 18px 50px;
    background: linear-gradient(135deg, var(--rose), var(--purple));
    border: none;
    border-radius: 50px;
    color: white;
    font-size: 1.2rem;
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
    cursor: pointer;
    letter-spacing: 2px;
    box-shadow: 0 10px 40px rgba(255, 77, 141, 0.5);
    transition: all 0.3s;
    animation: glow 2s ease-in-out infinite;
    position: relative;
    overflow: hidden;
  }

  .open-btn::before {
    content: '';
    position: absolute;
    top: -50%; left: -50%;
    width: 200%; height: 200%;
    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
    transform: rotate(45deg) translateX(-100%);
    transition: transform 0.6s;
  }
  .open-btn:hover::before { transform: rotate(45deg) translateX(100%); }
  .open-btn:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 20px 60px rgba(255, 77, 141, 0.7); }

  @keyframes glow {
    0%, 100% { box-shadow: 0 10px 40px rgba(255, 77, 141, 0.5); }
    50% { box-shadow: 0 10px 60px rgba(255, 77, 141, 0.9), 0 0 30px rgba(255, 215, 0, 0.3); }
  }

  /* ===== SECTION 2: SURPRISE REVEAL ===== */
  #reveal {
    min-height: 100vh;
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #0d0517, #1a0a2e, #2d0a4e);
    padding: 60px 20px;
    text-align: center;
  }

  .firework-container {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    overflow: hidden;
  }

  .big-name {
    font-family: 'Dancing Script', cursive;
    font-size: clamp(3rem, 12vw, 8rem);
    background: linear-gradient(135deg, var(--gold), #ff6b35, var(--rose), var(--light-purple));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: nameReveal 1s ease-out, rainbow 4s linear infinite;
    filter: drop-shadow(0 0 30px var(--gold));
  }

  @keyframes nameReveal {
    0% { transform: scale(0) rotate(-10deg); opacity: 0; }
    60% { transform: scale(1.1) rotate(2deg); }
    100% { transform: scale(1) rotate(0deg); opacity: 1; }
  }

  @keyframes rainbow {
    0% { filter: hue-rotate(0deg) drop-shadow(0 0 30px var(--gold)); }
    100% { filter: hue-rotate(360deg) drop-shadow(0 0 30px var(--gold)); }
  }

  .age-badge {
    font-size: 100px;
    margin: 10px;
    animation: spin 3s linear infinite;
    display: inline-block;
  }
  @keyframes spin {
    0% { transform: rotateY(0deg); }
    100% { transform: rotateY(360deg); }
  }

  .wish-text {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: clamp(1.2rem, 3vw, 1.8rem);
    color: var(--cream);
    max-width: 600px;
    line-height: 1.8;
    margin: 20px auto;
    opacity: 0;
    animation: fadeIn 1s ease-out 0.5s forwards;
  }

  @keyframes fadeIn {
    to { opacity: 1; transform: translateY(0); }
    from { opacity: 0; transform: translateY(20px); }
  }

  .scroll-down {
    margin-top: 40px;
    font-size: 2rem;
    animation: bounce 1.5s ease-in-out infinite;
    cursor: pointer;
    opacity: 0;
    animation: fadeIn 1s 1.5s forwards, bounce 1.5s 2.5s ease-in-out infinite;
  }
  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(10px); }
  }

  /* ===== SECTION 3: PHOTO GALLERY ===== */
  #gallery {
    min-height: 100vh;
    padding: 80px 20px;
    background: linear-gradient(180deg, #1a0a2e, #0d0517);
    text-align: center;
  }

  .section-title {
    font-family: 'Dancing Script', cursive;
    font-size: clamp(2rem, 6vw, 3.5rem);
    background: linear-gradient(135deg, var(--gold), var(--rose));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 10px;
  }
  .section-subtitle {
    color: var(--light-purple);
    font-size: 1rem;
    margin-bottom: 50px;
    font-style: italic;
  }

  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 25px;
    max-width: 1100px;
    margin: 0 auto;
  }

  .photo-card {
    position: relative;
    border-radius: 20px;
    overflow: hidden;
    cursor: pointer;
    transform-style: preserve-3d;
    transition: transform 0.6s;
    box-shadow: 0 10px 40px rgba(255, 77, 141, 0.3);
    animation: cardReveal 0.8s ease-out both;
  }

  .photo-card:nth-child(1) { animation-delay: 0.1s; }
  .photo-card:nth-child(2) { animation-delay: 0.2s; }
  .photo-card:nth-child(3) { animation-delay: 0.3s; }
  .photo-card:nth-child(4) { animation-delay: 0.4s; }
  .photo-card:nth-child(5) { animation-delay: 0.5s; }
  .photo-card:nth-child(6) { animation-delay: 0.6s; }

  @keyframes cardReveal {
    from { opacity: 0; transform: translateY(50px) scale(0.9); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }

  .photo-card:hover { transform: scale(1.05) rotate(1deg); }
  .photo-card:hover .photo-overlay { opacity: 1; }

  .photo-card img {
    width: 100%;
    height: 320px;
    object-fit: cover;
    display: block;
    filter: brightness(0.9);
    transition: filter 0.3s;
  }
  .photo-card:hover img { filter: brightness(1.1) saturate(1.2); }

  .photo-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(255,77,141,0.8), rgba(107,33,168,0.8));
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
  }

  .photo-overlay-text {
    font-family: 'Dancing Script', cursive;
    font-size: 1.8rem;
    color: white;
    text-shadow: 0 0 20px rgba(255,215,0,0.8);
    text-align: center;
    padding: 20px;
  }

  .photo-frame {
    position: absolute;
    inset: 8px;
    border: 2px solid rgba(255, 215, 0, 0.4);
    border-radius: 14px;
    pointer-events: none;
  }

  /* ===== SECTION 4: FUNNY Q&A ===== */
  #quiz {
    min-height: 100vh;
    padding: 80px 20px;
    background: linear-gradient(180deg, #0d0517, #1a0a2e);
    text-align: center;
  }

  .quiz-card {
    background: linear-gradient(135deg, rgba(107,33,168,0.3), rgba(255,77,141,0.2));
    border: 1px solid rgba(255,77,141,0.3);
    border-radius: 30px;
    padding: 40px;
    max-width: 700px;
    margin: 0 auto 30px;
    backdrop-filter: blur(10px);
    box-shadow: 0 20px 60px rgba(255,77,141,0.2);
  }

  .question-text {
    font-family: 'Playfair Display', serif;
    font-size: clamp(1.2rem, 3vw, 1.6rem);
    color: var(--cream);
    margin-bottom: 30px;
    min-height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1.6;
  }

  .question-emoji {
    font-size: 3rem;
    margin-bottom: 15px;
    display: block;
    animation: wiggle 2s ease-in-out infinite;
  }
  @keyframes wiggle {
    0%, 100% { transform: rotate(-5deg); }
    50% { transform: rotate(5deg); }
  }

  .btn-row {
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 20px;
  }

  .yes-btn, .no-btn, .opt-btn {
    padding: 15px 40px;
    border: none;
    border-radius: 50px;
    font-family: 'Poppins', sans-serif;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
  }

  .yes-btn {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    color: white;
    box-shadow: 0 8px 30px rgba(34, 197, 94, 0.4);
  }
  .yes-btn:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 15px 40px rgba(34, 197, 94, 0.6); }

  .no-btn {
    background: linear-gradient(135deg, var(--rose), #e11d48);
    color: white;
    box-shadow: 0 8px 30px rgba(255, 77, 141, 0.4);
  }
  .no-btn:hover { transform: translateY(-3px) scale(1.05); }

  .opt-btn {
    background: linear-gradient(135deg, var(--gold), #f59e0b);
    color: var(--deep);
    box-shadow: 0 8px 30px rgba(255, 215, 0, 0.3);
  }
  .opt-btn:hover { transform: translateY(-3px) scale(1.05); }

  .answer-display {
    font-family: 'Dancing Script', cursive;
    font-size: 1.8rem;
    color: var(--gold);
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.5s ease;
  }

  .progress-bar {
    width: 100%;
    height: 8px;
    background: rgba(255,255,255,0.1);
    border-radius: 10px;
    margin-bottom: 20px;
    overflow: hidden;
  }
  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--rose), var(--gold));
    border-radius: 10px;
    transition: width 0.5s ease;
  }

  /* ===== SECTION 5: LOVE MESSAGE / WISH CARD ===== */
  #message {
    min-height: 100vh;
    padding: 80px 20px;
    background: radial-gradient(ellipse at center, #2d0a4e, #0d0517);
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .letter-card {
    background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,77,141,0.1));
    border: 1px solid rgba(255,215,0,0.3);
    border-radius: 30px;
    padding: 60px 40px;
    max-width: 750px;
    margin: 0 auto;
    position: relative;
    backdrop-filter: blur(20px);
    box-shadow: 0 30px 80px rgba(255,77,141,0.2), inset 0 1px 0 rgba(255,255,255,0.1);
  }

  .letter-card::before {
    content: 'üíå';
    font-size: 3rem;
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
  }

  .letter-card::after {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 32px;
    background: linear-gradient(135deg, var(--gold), var(--rose), var(--light-purple));
    z-index: -1;
    opacity: 0.3;
  }

  .letter-title {
    font-family: 'Dancing Script', cursive;
    font-size: clamp(1.8rem, 5vw, 2.8rem);
    background: linear-gradient(135deg, var(--gold), var(--rose));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 30px;
  }

  .letter-body {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: clamp(1rem, 2.5vw, 1.3rem);
    color: var(--cream);
    line-height: 2;
    margin-bottom: 30px;
  }

  .letter-signature {
    font-family: 'Dancing Script', cursive;
    font-size: 2rem;
    color: var(--rose);
    animation: heartbeat 2s ease-in-out infinite;
  }

  @keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    25% { transform: scale(1.1); }
    45% { transform: scale(1); }
    65% { transform: scale(1.05); }
  }

  /* ===== SECTION 6: FINAL WISH CAKE ===== */
  #finale {
    min-height: 100vh;
    padding: 80px 20px;
    background: linear-gradient(180deg, #0d0517, #1a0a2e);
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .cake-emoji {
    font-size: clamp(80px, 15vw, 150px);
    animation: cakeFloat 3s ease-in-out infinite;
    display: block;
    margin: 0 auto 20px;
    cursor: pointer;
    filter: drop-shadow(0 0 30px var(--gold));
  }
  @keyframes cakeFloat {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-20px) scale(1.05); }
  }

  .final-wish {
    font-family: 'Dancing Script', cursive;
    font-size: clamp(2rem, 6vw, 4rem);
    background: linear-gradient(135deg, var(--gold), var(--rose), var(--light-purple), var(--gold));
    background-size: 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradientMove 3s linear infinite;
    margin-bottom: 20px;
  }
  @keyframes gradientMove {
    0% { background-position: 0%; }
    100% { background-position: 300%; }
  }

  .candle-row {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin: 30px 0;
    font-size: 3rem;
    flex-wrap: wrap;
  }

  .candle {
    cursor: pointer;
    transition: all 0.3s;
    animation: flicker 1.5s ease-in-out infinite;
    filter: drop-shadow(0 0 10px var(--gold));
  }
  .candle:nth-child(even) { animation-delay: 0.3s; }
  .candle:nth-child(3) { animation-delay: 0.6s; }

  .candle.blown { filter: grayscale(1); animation: none; transform: scale(0.8); }

  @keyframes flicker {
    0%, 100% { transform: scale(1) rotate(-2deg); }
    50% { transform: scale(1.1) rotate(2deg); }
  }

  .blow-msg {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    color: var(--light-purple);
    font-size: 1rem;
    margin-bottom: 30px;
  }

  .final-btn {
    padding: 20px 60px;
    background: linear-gradient(135deg, var(--gold), var(--rose), var(--purple));
    border: none;
    border-radius: 50px;
    color: white;
    font-size: 1.3rem;
    font-family: 'Dancing Script', cursive;
    cursor: pointer;
    box-shadow: 0 15px 50px rgba(255, 77, 141, 0.5);
    transition: all 0.3s;
    animation: glow 2s ease-in-out infinite;
    letter-spacing: 1px;
  }
  .final-btn:hover { transform: scale(1.05) translateY(-3px); }

  /* ===== LIGHTBOX ===== */
  .lightbox {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.9);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
  }
  .lightbox.active { display: flex; }
  .lightbox img {
    max-width: 90vw;
    max-height: 85vh;
    border-radius: 20px;
    box-shadow: 0 0 60px var(--rose);
    animation: lightboxIn 0.3s ease;
  }
  @keyframes lightboxIn {
    from { transform: scale(0.7); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }
  .lightbox-close {
    position: absolute;
    top: 20px; right: 30px;
    font-size: 3rem;
    cursor: pointer;
    color: white;
    z-index: 10;
    line-height: 1;
  }

  /* ===== NAV ===== */
  .nav {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 10px;
    z-index: 100;
    background: rgba(13, 5, 23, 0.8);
    padding: 12px 20px;
    border-radius: 50px;
    border: 1px solid rgba(255,77,141,0.3);
    backdrop-filter: blur(10px);
    display: none;
  }
  .nav.visible { display: flex; }
  .nav-dot {
    width: 12px; height: 12px;
    background: rgba(255,255,255,0.3);
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s;
  }
  .nav-dot.active { background: var(--rose); transform: scale(1.3); }

  /* CONFETTI PARTICLE */
  .confetti {
    position: fixed;
    pointer-events: none;
    z-index: 999;
    border-radius: 50%;
    animation: confettiFall linear both;
  }
  @keyframes confettiFall {
    0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
  }

  /* MUSIC PLAYER */
  .music-btn {
    position: fixed;
    top: 20px; right: 20px;
    z-index: 200;
    background: linear-gradient(135deg, var(--rose), var(--purple));
    border: none;
    border-radius: 50%;
    width: 55px; height: 55px;
    font-size: 1.5rem;
    cursor: pointer;
    box-shadow: 0 5px 20px rgba(255,77,141,0.5);
    transition: all 0.3s;
    display: none;
  }
  .music-btn.visible { display: flex; align-items: center; justify-content: center; }
  .music-btn:hover { transform: scale(1.1); }
  .music-btn.playing { animation: musicPulse 1s ease-in-out infinite; }
  @keyframes musicPulse {
    0%, 100% { box-shadow: 0 5px 20px rgba(255,77,141,0.5); }
    50% { box-shadow: 0 5px 40px rgba(255,77,141,0.9), 0 0 0 10px rgba(255,77,141,0.1); }
  }

  /* MOBILE */
  @media (max-width: 600px) {
    .gallery-grid { grid-template-columns: repeat(2, 1fr); gap: 12px; }
    .photo-card img { height: 200px; }
    .letter-card { padding: 40px 20px; }
    .btn-row { gap: 12px; }
    .yes-btn, .no-btn, .opt-btn { padding: 12px 25px; font-size: 1rem; }
  }
</style>
</head>
<body>

<!-- Custom Cursor -->
<div class="cursor" id="cursor"></div>
<div class="cursor-trail" id="cursorTrail"></div>

<!-- Floating Hearts Background -->
<div class="hearts-bg" id="heartsBg"></div>

<!-- Music Button -->
<button class="music-btn" id="musicBtn" onclick="toggleMusic()">üéµ</button>

<!-- Navigation -->
<nav class="nav" id="mainNav">
  <div class="nav-dot active" onclick="scrollToSection('intro')"></div>
  <div class="nav-dot" onclick="scrollToSection('reveal')"></div>
  <div class="nav-dot" onclick="scrollToSection('gallery')"></div>
  <div class="nav-dot" onclick="scrollToSection('quiz')"></div>
  <div class="nav-dot" onclick="scrollToSection('message')"></div>
  <div class="nav-dot" onclick="scrollToSection('finale')"></div>
</nav>

<!-- Lightbox -->
<div class="lightbox" id="lightbox" onclick="closeLightbox()">
  <span class="lightbox-close">‚úï</span>
  <img id="lightboxImg" src="" alt="">
</div>

<!-- ===== SECTION 1: INTRO ===== -->
<section id="intro">
  <canvas class="stars-canvas" id="starsCanvas"></canvas>
  <div class="intro-content">
    <div class="envelope" onclick="openSurprise()">üíå</div>
    <h1 class="intro-title">Psst... Heer!</h1>
    <p class="intro-subtitle">Someone has a very special surprise for you... üåπ</p>
    <p style="color: rgba(255,255,255,0.5); font-size: 0.9rem; margin-bottom: 25px; font-style: italic;">Click the envelope to open it... if you dare üí´</p>
    <button class="open-btn" onclick="openSurprise()">Open Your Surprise ‚ú®</button>
  </div>
</section>

<!-- ===== SECTION 2: REVEAL ===== -->
<section id="reveal" style="display:none; flex-direction:column; align-items:center; justify-content:center;">
  <div class="firework-container" id="fireworks"></div>
  <div style="position:relative; z-index:2;">
    <div class="big-name">Happy Birthday,<br>Heer! üå∏</div>
    <div class="age-badge">üéÇ</div>
    <p class="wish-text">On this beautiful 22nd of February, the world got a little more magical because YOU are in it! ‚ú®</p>
    <div style="font-size: 3rem; margin: 20px 0;">üéâüéäü•≥üéàüåü</div>
    <button class="open-btn" onclick="scrollToSection('gallery')" style="animation: glow 2s infinite;">
      See Your Gallery üì∏
    </button>
  </div>
</section>

<!-- ===== SECTION 3: GALLERY ===== -->
<section id="gallery">
  <h2 class="section-title">You, in all your glory ‚ú®</h2>
  <p class="section-subtitle">Every picture tells a thousand beautiful stories...</p>
  <div class="gallery-grid" id="galleryGrid">
    <!-- Generated by JS -->
  </div>
  <br><br>
  <button class="open-btn" onclick="scrollToSection('quiz')" style="margin-top: 20px;">
    Play a Fun Game üéÆ
  </button>
</section>

<!-- ===== SECTION 4: FUNNY Q&A ===== -->
<section id="quiz">
  <h2 class="section-title">Let's Play! üòÑ</h2>
  <p class="section-subtitle">Answer honestly... or don't üòÇ</p>
  <div class="quiz-card">
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill" style="width: 0%"></div>
    </div>
    <span class="question-emoji" id="qEmoji">ü§î</span>
    <div class="question-text" id="questionText">Are you ready to have the best birthday ever?</div>
    <div class="btn-row" id="btnRow">
      <!-- Buttons injected by JS -->
    </div>
    <div class="answer-display" id="answerDisplay"></div>
  </div>
  <button class="open-btn" id="nextQuizBtn" onclick="scrollToSection('message')" style="display:none; margin-top: 20px;">
    Read Your Letter üíå
  </button>
</section>

<!-- ===== SECTION 5: LETTER ===== -->
<section id="message">
  <h2 class="section-title" style="margin-bottom: 40px;">A letter just for you üíù</h2>
  <div class="letter-card">
    <h3 class="letter-title">Dearest Heer (Zainab) üåπ</h3>
    <p class="letter-body">
      On this magical day, I want you to know that you are more than just a name ‚Äî you are a feeling. 
      Every time I say "Heer", it feels like a poem being written by the universe itself. üåô
      <br><br>
      You carry so much light, so much warmth, and so much love inside you ‚Äî the kind of person who 
      makes ordinary days feel extraordinary. Your smile? It could stop time. ‚ú®
      <br><br>
      Today is YOUR day. The sun rose a little brighter, the flowers bloomed a little fuller, 
      and the stars aligned ‚Äî all for you, Heer. üå∏
      <br><br>
      May this year bring you everything your heart secretly wishes for, every dream that keeps 
      you up at night, and every joy you deserve a thousand times over. üéÇ
      <br><br>
      Happy Birthday, my favorite person in the universe. üíï
    </p>
    <div class="letter-signature">With all the love in the world üåπ</div>
  </div>
  <br><br>
  <button class="open-btn" onclick="scrollToSection('finale')" style="margin-top: 30px;">
    One Last Surprise üéÇ
  </button>
</section>

<!-- ===== SECTION 6: FINALE ===== -->
<section id="finale">
  <h2 class="section-title">Make a Wish! üå†</h2>
  <p class="section-subtitle">Click the candles to blow them out... then make a wish!</p>
  <span class="cake-emoji" onclick="explodeConfetti(this)">üéÇ</span>
  <div class="candle-row" id="candles">
    <span class="candle" onclick="blowCandle(this)">üïØÔ∏è</span>
    <span class="candle" onclick="blowCandle(this)">üïØÔ∏è</span>
    <span class="candle" onclick="blowCandle(this)">üïØÔ∏è</span>
    <span class="candle" onclick="blowCandle(this)">üïØÔ∏è</span>
    <span class="candle" onclick="blowCandle(this)">üïØÔ∏è</span>
  </div>
  <p class="blow-msg" id="blowMsg">Tap each candle to blow it out! üí®</p>
  <div class="final-wish">Happy Birthday, Heer! üéâ</div>
  <div style="font-size: 2rem; margin: 20px 0; animation: pulse 2s infinite;">
    üå∏üíñüåüüíêüéàüåπ‚ú®üéä
  </div>
  <button class="final-btn" onclick="finalConfetti()">
    Celebrate Again! üéâ
  </button>
</section>

<script>
// ===== CUSTOM CURSOR =====
const cursor = document.getElementById('cursor');
const trail = document.getElementById('cursorTrail');
let mx = 0, my = 0;
document.addEventListener('mousemove', e => {
  mx = e.clientX; my = e.clientY;
  cursor.style.left = mx + 'px';
  cursor.style.top = my + 'px';
  setTimeout(() => {
    trail.style.left = mx + 'px';
    trail.style.top = my + 'px';
  }, 80);
});

// ===== STARS CANVAS =====
const canvas = document.getElementById('starsCanvas');
const ctx = canvas.getContext('2d');
function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

const stars = Array.from({length: 200}, () => ({
  x: Math.random() * canvas.width,
  y: Math.random() * canvas.height,
  r: Math.random() * 2 + 0.5,
  a: Math.random(),
  da: Math.random() * 0.01 + 0.003,
  speed: Math.random() * 0.2
}));

function drawStars() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  stars.forEach(s => {
    s.a += s.da;
    if (s.a > 1 || s.a < 0) s.da *= -1;
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
    ctx.fillStyle = `rgba(255,255,255,${s.a})`;
    ctx.fill();
    s.y -= s.speed;
    if (s.y < 0) s.y = canvas.height;
  });
  requestAnimationFrame(drawStars);
}
drawStars();

// ===== FLOATING HEARTS =====
const heartsBg = document.getElementById('heartsBg');
const heartEmojis = ['üíï','üíñ','üíó','üíì','üíù','üå∏','‚ú®','üåü','üåπ','üí´'];
function spawnHeart() {
  const h = document.createElement('div');
  h.className = 'heart-float';
  h.textContent = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
  h.style.left = Math.random() * 100 + '%';
  h.style.fontSize = (10 + Math.random() * 20) + 'px';
  const dur = 6 + Math.random() * 8;
  h.style.animationDuration = dur + 's';
  h.style.animationDelay = Math.random() * 3 + 's';
  heartsBg.appendChild(h);
  setTimeout(() => h.remove(), (dur + 3) * 1000);
}
setInterval(spawnHeart, 800);

// ===== MUSIC =====
let musicPlaying = false;
let audioCtx;
function toggleMusic() {
  if (!audioCtx) {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    playBirthdayTune();
    musicPlaying = true;
  } else if (musicPlaying) {
    audioCtx.suspend();
    musicPlaying = false;
    document.getElementById('musicBtn').classList.remove('playing');
    document.getElementById('musicBtn').textContent = 'üéµ';
  } else {
    audioCtx.resume();
    musicPlaying = true;
    document.getElementById('musicBtn').classList.add('playing');
    document.getElementById('musicBtn').textContent = 'üé∂';
  }
}

function playBirthdayTune() {
  const btn = document.getElementById('musicBtn');
  btn.classList.add('playing');
  btn.textContent = 'üé∂';
  // Happy Birthday in frequencies
  const notes = [
    [261.63, 0.25], [261.63, 0.25], [293.66, 0.5], [261.63, 0.5],
    [349.23, 0.5], [329.63, 1.0],
    [261.63, 0.25], [261.63, 0.25], [293.66, 0.5], [261.63, 0.5],
    [392.00, 0.5], [349.23, 1.0],
    [261.63, 0.25], [261.63, 0.25], [523.25, 0.5], [440.00, 0.5],
    [349.23, 0.5], [329.63, 0.5], [293.66, 1.0],
    [466.16, 0.25], [466.16, 0.25], [440.00, 0.5], [349.23, 0.5],
    [392.00, 0.5], [349.23, 1.5]
  ];
  let time = audioCtx.currentTime + 0.1;
  notes.forEach(([freq, dur]) => {
    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.connect(gain);
    gain.connect(audioCtx.destination);
    osc.type = 'sine';
    osc.frequency.value = freq;
    gain.gain.setValueAtTime(0, time);
    gain.gain.linearRampToValueAtTime(0.2, time + 0.05);
    gain.gain.linearRampToValueAtTime(0, time + dur - 0.05);
    osc.start(time);
    osc.stop(time + dur);
    time += dur;
  });
  // Loop
  setTimeout(() => { if(musicPlaying) playBirthdayTune(); }, (time - audioCtx.currentTime) * 1000 + 500);
}

// ===== OPEN SURPRISE =====
function openSurprise() {
  document.getElementById('intro').style.display = 'none';
  const reveal = document.getElementById('reveal');
  reveal.style.display = 'flex';
  document.getElementById('mainNav').classList.add('visible');
  document.getElementById('musicBtn').classList.add('visible');
  spawnFireworks();
  shootConfetti(150);
  // Auto play music attempt
  setTimeout(() => {
    try {
      if (!audioCtx) {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        playBirthdayTune();
        musicPlaying = true;
      }
    } catch(e) {}
  }, 300);
}

// ===== GALLERY =====
const captions = [
  "My absolute favorite üíñ", "Pure magic ‚ú®", "This smile üòç",
  "The most beautiful soul üå∏", "Radiance personified üåü", "Queen vibes üëë"
];
function buildGallery() {
  const grid = document.getElementById('galleryGrid');
  for (let i = 1; i <= 6; i++) {
    const card = document.createElement('div');
    card.className = 'photo-card';
    card.innerHTML = `
      <img src="0 (${i}).jpeg" alt="Heer ${i}" loading="lazy" onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22300%22 height=%22320%22><rect width=%22300%22 height=%22320%22 fill=%22%23ff4d8d22%22/><text x=%2250%25%22 y=%2245%25%22 text-anchor=%22middle%22 fill=%22%23ff4d8d%22 font-size=%2240%22>üå∏</text><text x=%2250%25%22 y=%2260%25%22 text-anchor=%22middle%22 fill=%22%23c084fc%22 font-size=%2218%22>Heer</text><text x=%2250%25%22 y=%2272%25%22 text-anchor=%22middle%22 fill=%22%23ffd700%22 font-size=%2214%22>Photo ${i}</text></svg>'">
      <div class="photo-overlay"><div class="photo-overlay-text">${captions[i-1]}</div></div>
      <div class="photo-frame"></div>
    `;
    card.querySelector('img').addEventListener('click', () => openLightbox(`0 (${i}).jpeg`));
    grid.appendChild(card);
  }
}
buildGallery();

function openLightbox(src) {
  const lb = document.getElementById('lightbox');
  const img = document.getElementById('lightboxImg');
  img.src = src;
  lb.classList.add('active');
}
function closeLightbox() {
  document.getElementById('lightbox').classList.remove('active');
}

// ===== QUIZ =====
const questions = [
  {
    emoji: 'üéâ', 
    q: "Are you ACTUALLY having the best birthday ever?", 
    btns: [{label: "YES! ü•≥", type: 'yes', reply: "I KNEW IT! You deserve nothing less! üåü"},
           {label: "Not yet üòÖ", type: 'no', reply: "Give it 5 seconds... NOW? üòÑ"}]
  },
  {
    emoji: 'üç∞',
    q: "Did you secretly eat your birthday cake before anyone could sing to you?",
    btns: [{label: "Never üòá", type: 'yes', reply: "Sure sure sure üòÇ We all believe you!"},
           {label: "Obviously yes üòÇ", type: 'no', reply: "Hahaha honestly ICONIC queen behavior üëë"}]
  },
  {
    emoji: 'üíÖ',
    q: "On a scale of fabulous to EXTRA fabulous ‚Äî how gorgeous are you feeling today?",
    btns: [{label: "Fabulous ‚ú®", type: 'opt', reply: "Wrong answer! You're EXTRA fabulous always! üíñ"},
           {label: "EXTRA fabulous üëë", type: 'yes', reply: "CORRECT! That's the only right answer! üåü"},
           {label: "Just okay ü§∑", type: 'no', reply: "ABSOLUTELY NOT. You're stunning. Period. üò§"}]
  },
  {
    emoji: 'üéÇ',
    q: "Do you think someone spent way too long making this birthday website for you?",
    btns: [{label: "Definitely yes üòÇ", type: 'yes', reply: "Every single second was worth it for you üíï"},
           {label: "No, it's perfect ü•π", type: 'opt', reply: "You're so sweet, and YOU are perfect üåπ"}]
  },
  {
    emoji: 'üå∏',
    q: "Last question: Does the name 'Heer' suit you perfectly?",
    btns: [{label: "100% YES üíñ", type: 'yes', reply: "Because you ARE Heer ‚Äî timeless, beautiful, unforgettable üåπ"},
           {label: "Maybe üòä", type: 'opt', reply: "No maybe ‚Äî you ARE Heer. It was made for you! üí´"}]
  }
];

let qIndex = 0;

function renderQuestion() {
  const q = questions[qIndex];
  document.getElementById('qEmoji').textContent = q.emoji;
  document.getElementById('questionText').textContent = q.q;
  document.getElementById('answerDisplay').textContent = '';
  const row = document.getElementById('btnRow');
  row.innerHTML = '';
  const progress = (qIndex / questions.length) * 100;
  document.getElementById('progressFill').style.width = progress + '%';
  
  q.btns.forEach(b => {
    const btn = document.createElement('button');
    btn.className = b.type === 'yes' ? 'yes-btn' : b.type === 'no' ? 'no-btn' : 'opt-btn';
    btn.textContent = b.label;
    btn.onclick = () => answerQ(b.reply, btn);
    row.appendChild(btn);
  });
}

function answerQ(reply, btn) {
  // Animate button
  btn.style.transform = 'scale(1.2)';
  setTimeout(() => btn.style.transform = '', 300);
  
  document.getElementById('answerDisplay').textContent = reply;
  document.getElementById('btnRow').querySelectorAll('button').forEach(b => b.disabled = true);
  shootConfetti(30);
  
  setTimeout(() => {
    qIndex++;
    if (qIndex < questions.length) {
      renderQuestion();
    } else {
      document.getElementById('progressFill').style.width = '100%';
      document.getElementById('questionText').textContent = 'üéä Quiz complete! You are absolutely amazing, Heer! üéä';
      document.getElementById('qEmoji').textContent = 'üèÜ';
      document.getElementById('btnRow').innerHTML = '';
      document.getElementById('answerDisplay').textContent = 'Score: ‚àû/10 ‚Äî You are perfect! üíØ';
      document.getElementById('nextQuizBtn').style.display = 'inline-block';
      shootConfetti(100);
    }
  }, 2000);
}

renderQuestion();

// ===== CANDLES =====
let blownCandles = 0;
function blowCandle(el) {
  if (el.classList.contains('blown')) return;
  el.classList.add('blown');
  el.textContent = 'üí®';
  blownCandles++;
  const total = document.querySelectorAll('.candle').length;
  if (blownCandles >= total) {
    document.getElementById('blowMsg').textContent = 'üåü Wish made! May it come true! üå†';
    shootConfetti(200);
    setTimeout(() => {
      document.getElementById('blowMsg').textContent = '‚ú® Happy Birthday Heer! Your wish is on its way! üí´';
    }, 2000);
  } else {
    document.getElementById('blowMsg').textContent = `${total - blownCandles} more to go! üí®`;
  }
}

function explodeConfetti(el) {
  el.style.transform = 'scale(1.3)';
  setTimeout(() => el.style.transform = '', 300);
  shootConfetti(80);
}

// ===== CONFETTI =====
function shootConfetti(count) {
  const colors = ['#ff4d8d','#ffd700','#c084fc','#22c55e','#06b6d4','#f97316','#ec4899'];
  for (let i = 0; i < count; i++) {
    setTimeout(() => {
      const c = document.createElement('div');
      c.className = 'confetti';
      c.style.left = (20 + Math.random() * 60) + 'vw';
      c.style.top = '-20px';
      c.style.width = (6 + Math.random() * 10) + 'px';
      c.style.height = (6 + Math.random() * 10) + 'px';
      c.style.background = colors[Math.floor(Math.random() * colors.length)];
      c.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
      c.style.animationDuration = (1.5 + Math.random() * 2) + 's';
      document.body.appendChild(c);
      setTimeout(() => c.remove(), 4000);
    }, i * 15);
  }
}

// ===== FIREWORKS =====
function spawnFireworks() {
  const container = document.getElementById('fireworks');
  for (let i = 0; i < 20; i++) {
    setTimeout(() => {
      const fw = document.createElement('div');
      fw.textContent = ['‚ú®','üåü','üí•','üéÜ','üéá'][Math.floor(Math.random() * 5)];
      fw.style.cssText = `
        position: absolute;
        font-size: ${20 + Math.random() * 30}px;
        left: ${Math.random() * 100}%;
        top: ${Math.random() * 60}%;
        animation: fadeIn 0.5s ease, floatUp 2s ease forwards;
        pointer-events: none;
      `;
      container.appendChild(fw);
      setTimeout(() => fw.remove(), 3000);
    }, i * 150);
  }
}

// ===== SCROLL =====
function scrollToSection(id) {
  document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
}

function finalConfetti() {
  shootConfetti(300);
  spawnFireworks();
}

// ===== NAV DOTS =====
const sections = ['intro','reveal','gallery','quiz','message','finale'];
const dots = document.querySelectorAll('.nav-dot');
window.addEventListener('scroll', () => {
  let current = 0;
  sections.forEach((s, i) => {
    const el = document.getElementById(s);
    if (el && el.getBoundingClientRect().top < window.innerHeight / 2) current = i;
  });
  dots.forEach((d, i) => d.classList.toggle('active', i === current));
});

// Initial confetti on load
setTimeout(() => shootConfetti(40), 500);
</script>
</body>
</html>
